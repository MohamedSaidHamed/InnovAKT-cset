<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs">

  <!-- Minimal Bundle Definition - Creates simple bootstrapper -->
  <Bundle Name="InnovAKT-CSET Standalone Installer" 
          Version="12.5.0.0" 
          Manufacturer="InnovAKT"
          UpgradeCode="B2C3D4E5-F6A7-5678-9012-ABCDEF123456">

    <!-- Bundle Variables -->
    <Variable Name="InstallFolder" Type="string" Value="[ProgramFiles64Folder]InnovAKT-CSET\" />

    <!-- Minimal Bootstrap Application -->
    <BootstrapperApplication SourceFile="InnovAKT-CSET-Installer.exe" />

    <!-- Chain of Packages to Install -->
    <Chain>
      
      <!-- 1. SQL Server LocalDB 2022 -->
      <MsiPackage Id="SqlLocalDB2022Msi"
                  SourceFile="downloads\SqlLocalDB2022.msi"
                  DisplayName="Microsoft SQL Server 2022 LocalDB"
                  Permanent="yes"
                  Vital="no" />
      
      <!-- 2. .NET 7 Runtime -->
      <ExePackage Id="NetFramework70Exe"
                  SourceFile="downloads\windowsdesktop-runtime-7.0.20-win-x64.exe"
                  DisplayName="Microsoft .NET 7.0 Runtime"
                  InstallArguments="/quiet /norestart"
                  Permanent="yes"
                  Vital="no" />
      
      <!-- 3. ASP.NET Core 7 Runtime -->
      <ExePackage Id="AspNetCore70Exe"
                  SourceFile="downloads\aspnetcore-runtime-7.0.20-win-x64.exe"
                  DisplayName="Microsoft ASP.NET Core 7.0 Runtime"
                  InstallArguments="/quiet /norestart"
                  Permanent="yes"
                  Vital="no" />
      
      <!-- 4. Main Application -->
      <MsiPackage Id="InnovAKTCSETMsi" 
                  SourceFile="InnovAKT-CSET.msi" 
                  DisplayName="InnovAKT-CSET Application"
                  Vital="yes">
        <MsiProperty Name="INSTALLFOLDER" Value="[InstallFolder]" />
      </MsiPackage>

    </Chain>

  </Bundle>

</Wix>